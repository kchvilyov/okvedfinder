# Игра «Найди свой ОКВЭД по номеру телефона»

## Задача

* Принять строку содержащую **российский мобильный номер** в любом формате (ввод без ограничений). Спроектировать общий алгоритм нормализации. Результат — строго `+79XXXXXXXXX`. Если нормализовать нельзя — вернуть `false` + ошибку.

* По HTTPS загрузить `okved.json` из этого репозитория (файл обновляется ежедневно).

* Найти код ОКВЭД с максимальным совпадением по **окончанию** нормализованного номера. Если совпадений нет — применить **резервную стратегию** (на выбор разработчика).

* Вывести нормализованный номер, найденный ОКВЭД (код и название), длину совпадения.

* Это игра — в приоритете полные совпадения. Каждый шаг оформить как отдельную функцию/класс (в зависимости от языка программирования).

* Код следует единому стандарту документации/комментариев. Укажите, какому стандарту придерживается ваше решение (на выбор разработчика).

* Разрешается использовать библиотеки, фреймворки и boilerplates с открытой лицензией **MIT (или эквивалентной)** при условии предоставления ссылки на источник в README.

* В приоритете качество кода, а не его количество. Приложить краткую инструкцию по запуску.

Задание взято из https://github.com/bergstar/testcase/blob/master/README.md 

**Особенности решения**:
1. Порядок решений(Hierarchy of strategies):
   - Поиск по подстроке (3+ символов)
   - Контрольная сумма (определённая)
   - Определённый случайный выбор
   - ОКВЭД по умолчанию

2. Определённость:
   Все решения гарантируют одинаковый результат для одного номера при каждом запуске.

3. Информативность:
   PhoneMatchResult содержит информацию о том, какое решение использовалась.

4. Расширяемость:
   Через createConfigurableStrategy() можно легко добавлять новые решения.

5. Обработка граничных случаев:
   Пустой список ОКВЭД
   Неверные форматы номеров
   Отсутствие совпадений

6. Качественные сообщения об ошибках:
   ValidationException предоставляет подробную информацию о причине ошибки.

## Сборка

```bash
mvn clean package
```
## Запуск
```bash
java -jar target/okved-finder-1.0-SNAPSHOT-jar-with-dependencies.jar "8 (916) 123-45-67"
```
### Примеры
```bash
java -jar target/okved-finder-1.0-SNAPSHOT.jar "8 (916) 123-45-67"
java -jar target/okved-finder-1.0-SNAPSHOT.jar "79161234567"
java -jar target/okved-finder-1.0-SNAPSHOT.jar "8(916)123-45-67"
```
## Последовательность работы
1. Номер телефона нормализуется в формат +79XXXXXXXXX.
2. Загружается список ОКВЭД из удаленного JSON-файла.
3. Ищется ОКВЭД с максимальным совпадением по окончанию номера.
4. Если совпадений нет, применяется резервная стратегия (поиск по подстроке, контрольной сумме и т.д.).
5. Результат выводится в консоль.