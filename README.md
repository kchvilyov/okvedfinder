# Игра «Найди свой ОКВЭД по номеру телефона»

## Задача

* Принять строку содержащую **российский мобильный номер** в любом формате (ввод без ограничений). Спроектировать общий алгоритм нормализации. Результат — строго `+79XXXXXXXXX`. Если нормализовать нельзя — вернуть `false` + ошибку.

* По HTTPS загрузить `okved.json` из этого репозитория (файл обновляется ежедневно).

* Найти код ОКВЭД с максимальным совпадением по **окончанию** нормализованного номера. Если совпадений нет — применить **резервную стратегию** (на выбор разработчика).

* Вывести нормализованный номер, найденный ОКВЭД (код и название), длину совпадения.

* Это игра — в приоритете полные совпадения. Каждый шаг оформить как отдельную функцию/класс (в зависимости от языка программирования).

* Код следует единому стандарту документации/комментариев. Укажите, какому стандарту придерживается ваше решение (на выбор разработчика).

* Разрешается использовать библиотеки, фреймворки и boilerplates с открытой лицензией **MIT (или эквивалентной)** при условии предоставления ссылки на источник в README.

* В приоритете качество кода, а не его количество. Приложить краткую инструкцию по запуску.

Задание взято из https://github.com/bergstar/testcase/blob/master/README.md 

**Особенности решения**:
1. Порядок решений(Hierarchy of strategies):
    1: Поиск по подстроке (3+ символов)
    2: Контрольная сумма (определённая)
    3: Определённый случайный выбор
    4: Дефолтный ОКВЭД

2. Определённость:
   Все решения гарантируют одинаковый результат для одного номера при каждом запуске.

3. Информативность:
   PhoneMatchResult содержит информацию о том, какое решение использовалась.

4. Расширяемость:
   Через createConfigurableStrategy() можно легко добавлять новые решения.

5. Обработка граничных случаев:
   Пустой список ОКВЭД
   Неверные форматы номеров
   Отсутствие совпадений

6. Качественные сообщения об ошибках:
   ValidationException предоставляет подробную информацию о причине ошибки.

Это решение удовлетворяет всем требованиям задания и готова к производственному использованию.

## Сборка

```bash
mvn clean package
```
## Запуск
```bash
java -jar target/okved-finder-1.0-SNAPSHOT-jar-with-dependencies.jar "8 (916) 123-45-67"
```
### Примеры
```bash
java -jar target/okved-finder-1.0-SNAPSHOT-jar-with-dependencies.jar "+7 (916) 123-45-67"
java -jar target/okved-finder-1.0-SNAPSHOT-jar-with-dependencies.jar "79161234567"
java -jar target/okved-finder-1.0-SNAPSHOT-jar-with-dependencies.jar "8(916)123-45-67"
```
## Последовательность работы
Номер телефона нормализуется в формат +79XXXXXXXXX.
Загружается список ОКВЭД из удаленного JSON-файла.
Ищется ОКВЭД с максимальным совпадением по окончанию номера.
Если совпадений нет, применяется резервная стратегия (поиск по подстроке, контрольной сумме и т.д.).
Результат выводится в консоль.